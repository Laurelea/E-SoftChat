<html>
<head>
    <script>
    class Validator {
        constructor() {
            this._errors = [];
        }

        get Errors() {
            return this._errors;
        }
        /**
         *
         * @param schema
         * @param dataToValidate
         * @returns {boolean}
         */
        isValid(schema = {}, dataToValidate) {
            var possTypes = ['number', 'string', 'boolean', 'object', 'array'];
            var ifNullable = [true, false];
            function numberFunction (schema) {
                // var possNumVals = ["minimum", "maximum", "enum"]
                for (var key in schema) { //обращаемся к индексам
                    document.write("Current schema is: " + key + " " + schema[key] + "<br>")
                    // document.write(+ schema +"<br>");
                    switch (key) {
                        case "minimum" :
                            document.write("Minimum!<br>");
                            try {
                                if (dataToValidate < schema["minimum"]) {
                                    throw new TypeError('Value is less than it can be');
                                }
                            } catch (myError) {
                                console.log(myError);
                                this.Errors.push(myError);
                            }
                            break
                        case "maximun" :
                            try {
                                if (dataToValidate > schema["maximum"]) {
                                    throw new TypeError('Value is greater than it can be');
                                }
                            } catch (myError) {
                                console.log(myError);
                                this.Errors.push(myError);
                            }
                            break
                        case "enum" :
                            document.write("Enum!<br>");
                            document.write("Enum list: " + schema["enum"]+ '<br>');

                            document.write("Is included: "+ schema["enum"].includes(dataToValidate));

                            try {
                                if (!(schema["enum"].includes(dataToValidate))) {

                                    throw new TypeError('The enum does not support value');
                                }
                            } catch (myError) {

                                console.log(myError);
                                this.Errors.push(myError);
                            }
                            break
                    }
                }
                console.log(this.Errors()) 
                return (Validator.Errors.length == 0) ? true : false;
            }
            for (var key in schema) {
                switch (key) {
                    case "type":
                        try {
                            var checkType = ((possTypes.includes(schema["type"])) && (typeof (dataToValidate) == schema['type'])) ? true : false;
                            document.write("Checktype result :" +checkType+ '<br>');
                            // document.write("Schema : " + schema["type"]+"<br>");

                            switch (schema["type"]) {
                                case "number" :
                                    document.write("Schema : " + schema["type"]+"<br>");
                                    document.write("NumberFunction result: "+ numberFunction(schema)+"<br>");
                                    break
                                case "string" :
                            }
                        } catch (myError) {
                            console.log(myError);
                            this.Errors.push(myError);
                            document.write("No such type!");
                        }
                        break
                    case "nullable":
                        try {
                            // var isNull = (dataToValidate === null) ? true : false;
                            if ((schema["nullable"] == false) &&(dataToValidate === null)) {
                                throw new TypeError('Value is null, but nullable false');
                            } else {
                                continue
                            }
                        } catch (myError){
                            console.log(myError);
                            this.Errors.push(myError);
                        }
                        break
                    case "anyOf":

                    case "oneOf":
                }
            }
            return (this.Errors.length == 0) ? true : false;
        }

    }
    validator = new Validator();
    // const isValid = validator.isValid({
    //     type: 'number',
    //     enum: [1, 2, 3]
    // }, 4);
    // document.write('<br>' + "isValid result: " + isValid + "<br>")
    const isValid2 = validator.isValid({
        type: 'number',
        enum: [5, 2.76, 4]
    }, 2.76);
    document.write('<br>' + "isValid2 result: " + isValid2 + "<br>")
    </script>
</head>
<body>
</body>
</html>